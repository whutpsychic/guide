# 概述
[1  系统架构](#user-content-1--系统架构)

[2  页面加载流程](#user-content-2--页面加载流程)

[3  技术和框架](#user-content-3--技术和框架)

[4  兼容性要求](#user-content-4--兼容性要求)

[5  响应式布局要求](#user-content-5--响应式布局要求)

##  1  系统架构

![](images/系统架构.png)



当服务端使用.net时，采用IIS作为Web Server；服务端使用java时，采用apache作为Web Server。

在Web Server中保存了一些静态资源，例如Html、JS、CSS、图片、音频视频等文件，通过URL访问；此外，Web Server还需要提供Restful风格的API，在页面中通过ajax技术调用。



##  2  页面加载流程

![](images/页面加载流程.png)

网页通过静态页面+ajax的模式进行渲染，我们在服务端不进行任何形式的预处理，仅仅是返回原本的静态文件（html、css、js、图片等）。

在这些文件中，仅包括了页面中静态内容，不包括动态的业务数据。

动态数据通过ajax获得。



##  3  技术和框架

![](images/技术和框架.png)

require.js和ehcarts是确定使用的两个第三方库，前者是模块化工具，后者是图表库。

对于jquery，可用可不用，如果有能力的话，尽量不要使用。

尽量避免引用其它的第三方库。



##  4  兼容性要求

![](images/兼容性要求.png)

在我们的客户中，仍有不少IE8的使用者，以及少量的IE7使用者。至少目前来说，我们的系统仍然需要对IE8的支持。

在IE7和IE8中，主要存在着以下的问题：

- 不支持html5

Html5的canvas标签无法识别，无法使用canvas制作管网图和其他图形效果

- 不支持css3

IE8以前仅支持css2.1，不支持css3的新特性，例如圆角、阴影、透明度、背景图片拉伸等

- 不支持常见响应式布局

常见的响应式布局方式，例如@media媒体查询，rem布局以及vw布局等，都是不支持IE8的

- 不支持ES5语法

这里ES指的是EcmaScript，它是JavaScript中的基本语法。在IE8以前，仅支持ES3，不支持ES5中的新语法，例如  `JSON` 对象，`indexOf` 方法等。如果在代码中使用了这些语法，在IE8中会出错

- 其他兼容性问题

在现代浏览器中运行良好的页面，在IE7、IE8中可能出现布局错误，或者js报错现象。这些问题在实际开发中经常遇到，需要逐渐积累经验才可以避免



##  5  响应式布局要求

我们的网站采用响应式布局，也就是说，页面应该铺满整个屏幕，而且当水平分辨率大于某数值（一般是1280px）时不出现水平滚动条。在不同的分辨率下，页面看起来应该是基本一致的。在任何分辨率下，包括用户使用Ctrl+鼠标滚轮调整页面大小的情况，应保证布局不乱。





