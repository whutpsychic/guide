# 功能授权
[1  页面初始化](#user-content-1--页面初始化)

[2  获取指定角色的权限](#user-content-2--获取指定角色的权限)

[3  修改指定角色的权限](#user-content-3--修改指定角色的权限)



##  1  页面初始化

返回一个对象，包含以下字段

| 字段          | 类型     | 含义        | 备注                                       |
| ----------- | ------ | --------- | ---------------------------------------- |
| allRoles    | 对象数组   | 角色下拉框的数据源 | 返回除超级管理员之外的所有角色列表，包含角色Id和角色名两个字段         |
| firstRoleId | string | 第一个角色Id   | 在allRoles数组中的第一个角色Id，页面打开时在下拉框默认选中第一个角色  |
| firstAuth   | 对象数组   | 第一个角色的权限  | 打开页面时，自动展示第一个角色的权限信息。权限信息是个对象数组，包含menuId和hasFeature两个字段。 |



##  2  获取指定角色的权限

请求数据

| 字段     | 类型   | 含义   | 备注   |
| ------ | ---- | ---- | ---- |
| roleId | int  | 角色Id |      |

返回一个数组，包含以下字段

| 字段         | 类型     | 含义   | 备注                                      |
| ---------- | ------ | ---- | --------------------------------------- |
| menuId     | int    | 菜单Id |                                         |
| hasFeature | string | 功能点  | 角色在菜单中拥有的功能，使用逗号分隔多个功能点英文名。例如`add,edit` |



##  3  修改指定角色的权限

提交的内容包含两部分

第一部分是要修改的角色Id

| 字段     | 类型   | 含义   | 备注   |
| ------ | ---- | ---- | ---- |
| roleId | int  | 角色Id |      |

第二部分是修改后的该角色权限信息。权限信息的格式是一个对象数组，数组每一项字段如下：

| 字段         | 类型    | 含义   | 备注   |
| ---------- | ----- | ---- | ---- |
| menuId     | int   | 菜单Id |      |
| hasFeature | sting | 功能点  |      |

