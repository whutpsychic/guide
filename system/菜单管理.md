# 菜单管理
[1  业务说明](#user-content-1--业务说明)

[2  level字段](#user-content-2--level字段)

[3  folder字段](#user-content-3--folder字段)

[4  parentId字段](#user-content-4--parentId字段)

[5  图标路径](#user-content-5--图标路径)

[6  总结](#user-content-6--总结)

##  1  概述

本文介绍菜单管理的业务设计。

菜单是一个树形结构。每个菜单节点，包含唯一的父节点，以及若干个孩子节点。

如果某个节点不包含任意孩子，则称为`叶子节点`。我们规定，只有`叶子节点`可以对应一个功能页面。



##  2  level字段

使用层级`level`描述某个菜单节点的深度。我们规定，一级菜单的`level`为1，二级菜单的`level`为2，以此类推。



##  3  folder字段

使用`folder`字段描述菜单对应源代码的文件存放位置。

举例来说，现假设`用户管理`页面是一个二级菜单，它的父级是一级菜单`系统管理`。我们为每个菜单节点配置`folder`字段，其中`系统管理`节点的`folder`字段设置为`system`，`用户管理`的`folder`字段设置为`user`。

而`用户管理`页面的代码的存放位置，正是`src/develop/system/user`，其中`src`是源代码的根目录，`develop`是存放页面代码的目录，而`system`和`user`是与菜单的`folder`字段相匹配的。



##  4  parentId字段

使用`parentId`字段描述菜单的父节点，该字段指向父节点的主键id。

特殊的，一级菜单节点的父节点不存在，因此其`parentId`字段为空。



##  5  图标路径

有些情况下，菜单需要显示图标。方便起见，不再为配置图标路径添加专门的字段，而是通过`folder`字段来实现。

仍然以`系统管理`菜单和`用户管理`页面为例，它们的`folder`字段分别取值为`system`和`user`，因此它们的图标路径分别为`src/img/menu/system.png`和`src/img/menu/system-user.png`，其中`src/img/menu`是存放菜单图标的文件夹，图标文件依据`folder`字段取名。对于二级以上的菜单，使用短线`-`连接。



##  6  总结

为了正确的描述系统的菜单结构，每个菜单需要包含以下的字段：

| 字段       | 类型     | 含义                         |
| -------- | ------ | -------------------------- |
| 菜单Id     | --     | 主键编码                       |
| parentId | --     | 指向父菜单的主键Id。（特殊的，一级菜单该字段为空） |
| level    | int    | 层级，一级菜单为1，二级菜单为2，以此类推      |
| folder   | string | 源代码位置                      |
| name     | string | 菜单的名字，用于界面显示               |

